<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ –ª–∏—Ü - Raspberry Pi</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
            text-align: center;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        
        .video-container {
            margin: 20px 0;
        }
        
        #videoFeed {
            width: 100%;
            max-width: 640px;
            border: 3px solid #ddd;
            border-radius: 5px;
            background-color: #000;
        }
        
        .status {
            margin-top: 15px;
            padding: 10px;
            background-color: #e8f5e8;
            border: 1px solid #4caf50;
            border-radius: 5px;
            color: #2e7d32;
        }
        
        .error {
            background-color: #ffebee;
            border-color: #f44336;
            color: #c62828;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîç –°–∏—Å—Ç–µ–º–∞ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –ª–∏—Ü</h1>
        <p>–ö–∞–º–µ—Ä–∞ Raspberry Pi —Å —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ–º –ª–∏—Ü –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏</p>
        
        <div class="video-container">
            <img id="videoFeed" src="{{ url_for('video_feed') }}" alt="–í–∏–¥–µ–æ–ø–æ—Ç–æ–∫">
        </div>
        
        <div id="status" class="status">
            ‚úì –í–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –∞–∫—Ç–∏–≤–µ–Ω
        </div>
        
        <div style="margin-top: 20px;">
            <p><strong>–†–∞—Å–ø–æ–∑–Ω–∞–Ω–Ω—ã–µ –ª–∏—Ü–∞:</strong> –î–∞–Ω–∏–∏–ª, –ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞</p>
            <p><small>–°–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ Raspberry Pi 4</small></p>
        </div>
    </div>

    <script>
        // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞
        function checkVideoStatus() {
            const video = document.getElementById('videoFeed');
            const status = document.getElementById('status');
            
            video.onload = function() {
                status.textContent = '‚úì –í–∏–¥–µ–æ–ø–æ—Ç–æ–∫ –∞–∫—Ç–∏–≤–µ–Ω';
                status.className = 'status';
            };
            
            video.onerror = function() {
                status.textContent = '‚úó –û—à–∏–±–∫–∞ –≤–∏–¥–µ–æ–ø–æ—Ç–æ–∫–∞. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É.';
                status.className = 'status error';
            };
        }
        
        // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = function() {
            checkVideoStatus();
            
            // –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
            setInterval(checkVideoStatus, 5000);
        };
    </script>
</body>
</html>
